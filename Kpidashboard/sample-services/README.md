KPI dashboard:-

“A KPI dashboard displays key performance indicators in interactive charts and graphs, allowing for quick, organized review and analysis.”
Task was to build a KPI dashboard thus a KPI dashboard was build with python which displayed the alerts in the form of a pie chart and also calculated the percentage of alerts generated by each micro service. The user is also able to mark the alerts solved.


STEPS:-
> Install Anaconda.
> Download jupyter lab.
> Make a directory in that directory make two folders one named KPI-Dashboard other one named  Sample services in the sample services the .txt files containing the alerts are present.
> Open the terminal in the KPI-Dashboard directory and launch jupyter lab with command jupyter-lab.
> When the jupyter lab is launched then make a new file with .py extension, In this file the KPI-dashboard will be designed and the functionalities will be assigned to it.

Below was the python code used:-

import os
import plotly.graph_objs as go
import ipywidgets as widgets
from IPython.display import display


# Read alert data from text files
def read_alerts(file_path):
    with open(file_path, 'r') as file:
        alerts = file.readlines()
    return [alert.strip() for alert in alerts]

# Define paths to alert files
sample_services_dir = "../Sample-services"  # Assuming the Sample-services directory is one level above
zap_alerts_world_file = os.path.join(sample_services_dir, "zap-alerts-world.txt")
zap_alerts_file = os.path.join(sample_services_dir, "zap-alerts.txt")

zap_alerts_world = read_alerts(zap_alerts_world_file)
zap_alerts = read_alerts(zap_alerts_file)

# Function to filter alerts based on label
def filter_alerts(alerts, label):
    filtered_alerts = [alert for alert in alerts if label in alert.lower()]
    return filtered_alerts

# Calculate KPIs
total_alerts = len(zap_alerts_world) + len(zap_alerts)
world_alerts_count = len(zap_alerts_world)
service_alerts_count = len(zap_alerts)

# Create pie chart
labels = ['World Service', 'Hello Service']
values = [world_alerts_count, service_alerts_count]
pie_chart = go.Figure(data=[go.Pie(labels=labels, values=values)])

# Adjust layout
pie_chart.update_layout(
    title='Distribution of Alerts Between Microservices',
    title_font_size=24,
    width=800,
    height=600,
    margin=dict(t=100, b=0, l=0, r=0),
    font=dict(size=18)
)

# Display pie chart
pie_chart.show()

# Function to display alert details and handle button clicks
def display_alerts():
    # Logic to retrieve and display alert details
    alerts = [
        {"id": 1, "message": "Alert 1", "datetime": "2024-02-13 10:00:00", "solved": False},
        {"id": 2, "message": "Alert 2", "datetime": "2024-02-13 11:00:00", "solved": False},
        # Add more alert data as needed
    ]

    for alert in alerts:
        display(widgets.HTML(f"<strong>{alert['message']}</strong> - {alert['datetime']}"))
        if not alert['solved']:
            button = widgets.Button(description="Mark as Solved")
            button.on_click(lambda event, alert_id=alert['id']: mark_as_solved(alert_id))
            display(button)

# Function to handle button click event
def mark_as_solved(alert_id):
    # Logic to mark alert as solved in the system
    print(f"Alert {alert_id} marked as solved in the system.")

    # Provide feedback to the user
    print(f"Alert {alert_id} has been marked as solved.")


# Display alert details
display_alerts()

Explanation:-
Import Statements:
pythonCopy code
import os import plotly.graph_objs as go import ipywidgets as widgets from IPython.display import display 
        ◦ These statements import necessary libraries: 
            ▪ os: Provides functions for interacting with the operating system (e.g., file operations). 
            ▪ plotly.graph_objs: Allows creating interactive plots and charts. 
            ▪ ipywidgets: Provides interactive widgets for Jupyter environments. 
            ▪ IPython.display: Provides functions for displaying HTML, images, and other output in IPython environments. 
    2. Function to Read Alert Data:
pythonCopy code
def read_alerts(file_path): with open(file_path, 'r') as file: alerts = file.readlines() return [alert.strip() for alert in alerts] 
        ◦ This function reads alert data from a text file specified by file_path and returns a list of alerts, stripping any leading or trailing whitespace from each line. 
    3. Paths to Alert Files:
pythonCopy code
sample_services_dir = "../Sample-services" zap_alerts_world_file = os.path.join(sample_services_dir, "zap-alerts-world.txt") zap_alerts_file = os.path.join(sample_services_dir, "zap-alerts.txt") 
        ◦ These lines define the paths to the text files containing alert data. 
    4. Function to Filter Alerts:
pythonCopy code
def filter_alerts(alerts, label): filtered_alerts = [alert for alert in alerts if label in alert.lower()] return filtered_alerts 
        ◦ This function filters alerts based on a specified label, converting both the alert and label to lowercase for case-insensitive matching. 
    5. Calculation of KPIs:
pythonCopy code
total_alerts = len(zap_alerts_world) + len(zap_alerts) world_alerts_count = len(zap_alerts_world) service_alerts_count = len(zap_alerts) 
        ◦ These lines calculate key performance indicators (KPIs) related to the number of alerts for the world service and the hello service. 
    6. Creation of Pie Chart:
pythonCopy code
labels = ['World Service', 'Hello Service'] values = [world_alerts_count, service_alerts_count] pie_chart = go.Figure(data=[go.Pie(labels=labels, values=values)]) 
        ◦ These lines create a pie chart using Plotly, representing the distribution of alerts between the world service and the hello service. 
    7. Adjustment of Layout for Pie Chart:
pythonCopy code
pie_chart.update_layout( title='Distribution of Alerts Between Microservices', title_font_size=24, width=800, height=600, margin=dict(t=100, b=0, l=0, r=0), font=dict(size=18) ) 
        ◦ These lines adjust the layout of the pie chart, setting the title, size, margins, and font. 
    8. Display of Pie Chart:
pythonCopy code
pie_chart.show() 
        ◦ This line displays the pie chart. 
    9. Function to Display Alert Details and Handle Button Clicks:
pythonCopy code
def display_alerts(): # Logic to retrieve and display alert details 
    10. Function to Handle Button Click Event:
pythonCopy code
def mark_as_solved(alert_id): 
Save to grepper
    • These functions handle the display of alert details and the action triggered when the "Mark as Solved" button associated with a specific alert is clicked. 
    11. Display of Alert Details: 
pythonCopy code
display_alerts() 
        ◦ This line calls the display_alerts function to display alert details and handle button clicks. 
Overall, the code demonstrates how to read alert data from text files, visualize the distribution of alerts using a pie chart, and provide interactive functionality for marking alerts as solved.
>Now press the start button the following out put will be visible;




